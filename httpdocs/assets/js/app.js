// Generated by CoffeeScript 1.6.3
(function(){var e,t,n,r,i,s,o,u;s=Modernizr.touch?function(){$("section").each(function(e,t){return $(t).addClass("in-view")});return"touchstart"}:"click";i=i||{};n=$(window);r=n.height();e=$(document);t=e.height();o=void 0;u=void 0;i.viewportmeta=document.querySelector&&document.querySelector('meta[name="viewport"]');i.ua=navigator.userAgent;i.scaleFix=function(){if(i.viewportmeta&&/iPhone|iPad|iPod/.test(i.ua)&&!/Opera Mini/.test(i.ua)){i.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";return document.addEventListener("gesturestart",i.gestureStart,!1)}};i.gestureStart=function(){return i.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};i.sizeonce=function(){return $("section#projects-scene").not(".instagram").each(function(e,t){return $(t).css({"min-height":$(t).outerHeight(),height:r})})};i.sectionheights=function(){return $("section#projects-scene").not(".instagram").each(function(e,t){$(t).height("auto").css({"min-height":""});return r>$(t).outerHeight()?$(t).css({"min-height":$(t).outerHeight(),height:r}):$(t).css({"min-height":$(t).outerHeight()})}).filter(".finances").css({height:"auto","min-height":""})};i.homeSlider=function(){return $("#full-width-slider").royalSlider({arrowsNav:!0,loop:!0,keyboardNavEnabled:!0,controlsInside:!1,imageScaleMode:"fill",arrowsNavAutoHide:!1,autoScaleSliderHeight:520,controlNavigation:"bullets",thumbsFitInViewport:!1,navigateByClick:!0,startSlideId:0,autoPlay:{enabled:!0,pauseOnHover:!0,delay:4e3},transitionType:"move",globalCaption:!0,deeplinking:{enabled:!0,change:!1}})};i.sizeslider=function(){var e;e=$("#full-width-slider").data("royalSlider");e.st.imageScaleMode="fill";e.updateSliderSize(!0);return e.ev.on("rsAfterContentSet",function(e){var t,n,r,i,s,o,u;n=$("#full-width-slider .section-banner");o=$("#full-width-slider .infoBlock");r=n.height();s=$(".infoBlock").height();u=$("#full-width-slider").outerHeight();t=(u-r)/2;i=(u-s)/2;n.css({marginTop:t-i});return o.css({marginTop:i})})};i.projects=function(){var e,t,n;$("#filter a").click(function(){var t;t=$(this).attr("data-filter");e.isotope({filter:t});return!1});e=$("#container");e.isotope({itemSelector:".project",layoutMode:"cellsByRow",cellsByRow:{columnWidth:278,rowHeight:190}});n=$("#options .option-set");t=n.find("a");return t.click(function(){var t,n,r,i,s;n=$(this);if(n.hasClass("selected"))return!1;t=n.parents(".option-set");t.find(".selected").removeClass("selected");n.addClass("selected");i={};r=t.attr("data-option-key");s=n.attr("data-option-value");s=s==="false"?!1:s;i[r]=s;r==="layoutMode"&&typeof changeLayoutMode=="function"?changeLayoutMode(n,i):e.isotope(i);return!1})};i.global=function(){return Shadowbox.init({autoplayMovies:!0})};i.subpages=function(){return i.projects()};i.init=function(){i.global();if(!$("body").hasClass("sub-page")){i.homeSlider();n.on("resize",function(){clearTimeout(i.resizeto);return i.resizeto=setTimeout(function(){r=n.height();i.sectionheights();return i.sizeslider()},100)});i.sizeonce();i.sectionheights();return i.sizeslider()}return i.subpages()};$(function(){return i.init()})}).call(this);